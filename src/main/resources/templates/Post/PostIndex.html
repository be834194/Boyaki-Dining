<!DOCTYPE HTML>
<html xmlns:th="https://thymeleaf.org">
<head>
  <title>ぼやき一覧</title>
  <meta charset="UTF-8">
  <meta name="_csrf" th:content="${_csrf.token}"/>
  <meta name="_csrf_header" th:content="${_csrf.headerName}"/>
  <script src="https://unpkg.com/vue@next"></script>
  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" 
		  integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  <link rel="stylesheet" th:href="@{/css/style.css}" type="text/css">

</head>

<body>
<div th:replace="flagment/header :: user-header"></div><hr>
<h2>投稿一覧</h2>
<a th:href="@{/index/boyaki/post}">投稿する</a>
<div id="boyakiApp">
	<div class="blocks">
		<div class="form-group">
		    <div>投稿種別</div>
		    <select class="form-control" id="postCategory" name="postCategory" multiple v-model="category">
	            <option style="font-size: 12px;" th:each="category:${postCategory}" 
	                    th:value="${category.postId}" th:text="${category.postName}"></option>
	        </select>
		</div>&nbsp;&nbsp;
		<div class="form-group">
	        <div>ユーザの健康状態</div>
	        <select class="form-control" id="statusList" name="statusList" multiple v-model="status">
		        <option style="font-size: 12px;" th:each="status:${statusList}" 
		                th:value="${status.statusId}" th:text="${status.statusName}"></option>
		    </select>
		</div>&nbsp;&nbsp;
		<div class="form-group">
		    <div>投稿内容</div>
		    <textarea style="font-size: 12px;" class="form-control" type="text" id="textkeyword" name="textkeyword" v-model="keyword"></textarea>
		</div>&nbsp;&nbsp;
	    <div>
	        <div>&nbsp;&nbsp;</div>
		    <button type="submit" v-on:click="startSearch">検索</button>&nbsp;&nbsp;
		    <button type="reset" v-on:click="resetAll">検索値の初期化</button>
		    <br><br>
	    </div>
	</div>
    <div v-for="(value,key) in PostRecords" class="blocklink">
	    <a v-bind:href="`/index/boyaki/${value.postId}`">{{value.nickName}} さん
		    <div>{{value.content}} 
		    <h6> {{value.createAt}}</h6>
		    </div>
	    </a>
	    <hr>
	</div>
	<div id="scroll" ref="observe_element">loading...</div>
</div>

<script th:src="@{/js/boyakiApp.js}">
</script>
</body>

</html>