<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>パスワード変更</title>
    <meta charset="UTF-8">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" 
		  integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" th:href="@{/css/style.css}" type="text/css">
</head>
<body>
<div th:replace="flagment/header :: user-header"></div>
<h2>パスワード変更</h2>
<div class="container">
	<form class="col-sm-6" th:action="@{/index/mypage/changepassword/update}" method="post" th:object="${PasswordChangeForm}">
	<p th:text="${message}"></p>
	    <div>
		    <input type="hidden" name="userName" id="userName" th:field="*{userName}">
		</div>
		<div class="form-group">
		    <label for="mail">メールアドレス</label> 
		    <input class="form-control" type="text" name="mail" id="mail" th:field="*{mail}"
		    　　　　　　　placeholder="メールアドレスを入力してくさだい">
		    <div th:if="${#fields.hasErrors('mail')}" th:errors="*{mail}" th:errorclass="error-messages"></div>
		</div><br>
		<div class="form-group">
		    <label for="oldPassword">現在のパスワード</label> 
		    <input class="form-control" type="password" name="oldPassword" id="oldPassword" th:field="*{oldPassword}" 
		           placeholder="現在使用中のパスワードを入力してください">
		    <div th:if="${#fields.hasErrors('oldPassword')}" th:errors="*{oldPassword}" th:errorclass="error-messages"></div>
		</div><br>
		<div class="form-group">
		    <label for="password">新パスワード</label> 
		    <input class="form-control" type="password" id="password" name="password" th:field="*{password}"
		           placeholder="新しく設定するパスワードを8文字以上で入力してください">
		    <div th:if="${#fields.hasErrors('password')}" th:errors="*{password}" th:errorclass="error-messages"></div>
		</div><br>
		<div class="form-group">
		    <label for="confirmPassword">新パスワード(確認)</label> 
		    <input class="form-control" type="password" id="confirmPassword" name="confirmPassword" th:field="*{confirmPassword}"
		           placeholder="新しく設定したパスワードをもう一度入力してください">
		    <div th:if="${#fields.hasErrors('confirmPassword')}" th:errors="*{confirmPassword}" th:errorclass="error-messages"></div>
		</div><br>
		<div>
		    <button type="submit">更新する</button>
		</div>
	</form>
</div>

<br>
<a th:href="@{/index/mypage}">マイページへ戻る</a>
<br>
<a th:href="@{/index/mypage/edit}">プロフィールを変更する</a>
<br>
<a th:href="@{/index/mypage/confirm}">退会する</a>

</body>
</html>